% 3D

ZNN10    = [0.133 0.134 0.138 0.145 0.160 0.224 0.340];
Caffe10  = [0.008 0.010 0.010 0.012 0.016 0.028 0.059];
Caffe10d = [0.034 0.035 0.039 0.046 0.062 0.104 0.222];
Theano10 = [0.014 0.015 0.015 0.016 0.018 0.025 0.048];

YLim10 = max(ZNN10(:));

ZNN20    = [0.206 0.217 0.261 0.264 0.340 0.499 0.584];
Caffe20  = [0.108 0.110 0.116 0.129 0.158 0.220 0.387];
Caffe20d = [0.230 0.234 0.250 0.273 0.328 0.457 0.795];
Theano20 = [0.083 0.083 0.090 0.096 0.110 0.149 0.394];

YLim20 = max(Caffe20d(:));

ZNN30    = [0.491 0.500 0.471 0.532 0.601 0.564 1.021];
Caffe30  = [0.564 0.575 0.563 0 0 0 0];
Caffe30d = [0.895 0.917 0.953 1.028 1.165 1.519 2.323];
Theano30 = [0.497 0.507 0.522 0.544 0.610 0.799 1.219];

YLim30 = max(Caffe30d(:));

ZNN40    = [0.812 0.817 0.816 0.875 0.965 1.129 1.440];
Caffe40  = [0 0 0 0 0 0 0];
Caffe40d = [2.663 2.680 2.749 2.894 3.218 3.920 5.507];
Theano40 = [1.436 1.462 1.515 1.561 1.739 2.150 3.022];

YLim40 = max(Caffe40d(:));

% subplotplus demo

cell41={{['-g']};{['-g']};{['-g']};{['-g']}};

figure(1)
C = {cell41};
[h,labelfontsize] = subplotplus(C);
x = 1:7;

subidx = 1;
set(gcf,'CurrentAxes',h(subidx));
b = bar([ZNN10; Caffe10; Caffe10d; Theano10]')
set(b(1),'DisplayName','ZNN','FaceColor',[0 0.447 0.741],...
    'EdgeColor',[0 0.447 0.741]);
set(b(2),'DisplayName','Caffe','FaceColor',[0.4940 0.1840 0.5560],...
    'EdgeColor',[0.4940 0.1840 0.5560]);
set(b(3),'DisplayName','Caffe (cuDNN)','FaceColor',[0.85 0.325 0.098],...
    'EdgeColor',[0.85 0.325 0.098]);
set(b(4),'DisplayName','Theano','FaceColor',[0.4660 0.6740 0.1880],...
    'EdgeColor',[0.4660 0.6740 0.1880]);


set(h(subidx), ...
    'XGrid', 'on', ...
    'YGrid', 'on', ...
    'Box', 'on', ...
    'XTick', '', ...
    'XMinorTick', 'off', ...
    'YMinorTick', 'off', ...
    'XMinorGrid', 'off', ...
    'YMinorGrid', 'off', ...
    'FontSize', 18,...
    'YLim', [0 YLim10 * 1.2],...
    'Color',[0.831372549019608 0.815686274509804 0.784313725490196], ...
    'AmbientLightColor',[0.466666666666667 0.674509803921569 0.188235294117647]);

legend1 = legend(h(subidx),'show');
set(legend1,...
    'Position',[0.109340071852189 0.759554142120537 0.176174726277372 0.105095541401274],...
    'FontSize', 18,...
    'Color',[1 1 1]);


xlabel('Output Size','FontSize',20);
%ylabel('Seconds / Update','FontSize',20);
set(gca,'XTickLabel',{'1x1', '2x2', '4x4', '8x8', '16x16', '32x32', '64x64'})

subidx = subidx +1;
set(gcf,'CurrentAxes',h(subidx));
b = bar([ZNN20; Caffe20; Caffe20d; Theano20]')

set(b(1),'DisplayName','ZNN','FaceColor',[0 0.447 0.741],...
    'EdgeColor',[0 0.447 0.741]);
set(b(2),'DisplayName','Caffe','FaceColor',[0.4940 0.1840 0.5560],...
    'EdgeColor',[0.4940 0.1840 0.5560]);
set(b(3),'DisplayName','Caffe (cuDNN)','FaceColor',[0.85 0.325 0.098],...
    'EdgeColor',[0.85 0.325 0.098]);
set(b(4),'DisplayName','Theano','FaceColor',[0.4660 0.6740 0.1880],...
    'EdgeColor',[0.4660 0.6740 0.1880]);
set(h(subidx), ...
    'XGrid', 'on', ...
    'YGrid', 'on', ...
    'Box', 'on', ...
    'XTick', '', ...
    'XMinorTick', 'off', ...
    'YMinorTick', 'off', ...
    'XMinorGrid', 'off', ...
    'YMinorGrid', 'off', ...
    'YLim', [0 YLim20 * 1.2],...
    'FontSize', 18,...
    'YAxisLocation', 'right',...
    'Color',[0.831372549019608 0.815686274509804 0.784313725490196], ...
    'AmbientLightColor',[0.466666666666667 0.674509803921569 0.188235294117647]);
xlabel('Output Size','FontSize',20);
ylabel('Seconds / Update','FontSize',20);
set(gca,'XTickLabel',{'1x1', '2x2', '4x4', '8x8', '16x16', '32x32', '64x64'})

subidx = subidx +1;
set(gcf,'CurrentAxes',h(subidx));
b = bar([ZNN30; Caffe30; Caffe30d; Theano30]')
set(b(1),'DisplayName','ZNN','FaceColor',[0 0.447 0.741],...
    'EdgeColor',[0 0.447 0.741]);
set(b(2),'DisplayName','Caffe','FaceColor',[0.4940 0.1840 0.5560],...
    'EdgeColor',[0.4940 0.1840 0.5560]);
set(b(3),'DisplayName','Caffe (cuDNN)','FaceColor',[0.85 0.325 0.098],...
    'EdgeColor',[0.85 0.325 0.098]);
set(b(4),'DisplayName','Theano','FaceColor',[0.4660 0.6740 0.1880],...
    'EdgeColor',[0.4660 0.6740 0.1880]);
set(h(subidx), ...
    'XGrid', 'on', ...
    'YGrid', 'on', ...
    'Box', 'on', ...
    'XTick', '', ...
    'XMinorTick', 'off', ...
    'YMinorTick', 'off', ...
    'XMinorGrid', 'off', ...
    'YMinorGrid', 'off', ...
    'FontSize', 18,...
    'YLim', [0 YLim30 * 1.2],...
    'Color',[0.831372549019608 0.815686274509804 0.784313725490196], ...
    'AmbientLightColor',[0.466666666666667 0.674509803921569 0.188235294117647]);xlabel('Output Size','FontSize',labelfontsize(subidx,1));
xlabel('Output Size','FontSize',20);
%ylabel('Seconds / Update','FontSize',20);
set(gca,'XTickLabel',{'1x1', '2x2', '4x4', '8x8', '16x16', '32x32', '64x64'})

subidx = subidx +1;
set(gcf,'CurrentAxes',h(subidx));
b = bar([ZNN40; Caffe40; Caffe40d; Theano40]')
set(b(1),'DisplayName','ZNN','FaceColor',[0 0.447 0.741],...
    'EdgeColor',[0 0.447 0.741]);
set(b(2),'DisplayName','Caffe','FaceColor',[0.4940 0.1840 0.5560],...
    'EdgeColor',[0.4940 0.1840 0.5560]);
set(b(3),'DisplayName','Caffe (cuDNN)','FaceColor',[0.85 0.325 0.098],...
    'EdgeColor',[0.85 0.325 0.098]);
set(b(4),'DisplayName','Theano','FaceColor',[0.4660 0.6740 0.1880],...
    'EdgeColor',[0.4660 0.6740 0.1880]);
set(h(subidx), ...
    'XGrid', 'on', ...
    'YGrid', 'on', ...
    'Box', 'on', ...
    'XTick', '', ...
    'XMinorTick', 'off', ...
    'YMinorTick', 'off', ...
    'XMinorGrid', 'off', ...
    'YMinorGrid', 'off', ...
    'YLim', [0 YLim40 * 1.2],...
    'FontSize',18,...
    'YAxisLocation', 'right',...
    'Color',[0.831372549019608 0.815686274509804 0.784313725490196], ...
    'AmbientLightColor',[0.466666666666667 0.674509803921569 0.188235294117647]);xlabel('Output Size','FontSize',labelfontsize(subidx,1));
xlabel('Output Size','FontSize',20);
%ylabel('Seconds / Update','FontSize',20);
set(gca,'XTickLabel',{'1x1', '2x2', '4x4', '8x8', '16x16', '32x32', '64x64'})
